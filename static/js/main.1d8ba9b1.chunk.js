(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],[,function(t,e,r){t.exports={container:"App_container__1MQN3",grid:"App_grid__3DnSg",inactiveItem:"App_inactiveItem__2nCIA",activeItem:"App_activeItem__3NE4j",controls:"App_controls__14oJX"}},,,,,function(t,e,r){t.exports=r(12)},,,,,function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),i=r(5),s=r.n(i),o=(r(11),r(3)),c=function(t,e){if(!t)throw new Error("no matrix, neo");return t.map((function(t,r){return t.map((function(t,n){return e(t,r,n)}))}))},u=r(2),m=function(t){for(var e=2,r=Math.sqrt(t);e<=r;e++)if(t%e===0)return!1;return t>1};var p=r(1),f=r.n(p),l=new function t(e,r){var n=this;Object(u.a)(this,t),this.reducer=function(t,e){switch(e.type){case"update":return n.matrix=e.matrix,{matrix:n.matrix,pattern:n.pattern,size:n.size};case"resize":return n.resize(e.size),{matrix:n.matrix,pattern:n.pattern,size:n.size};case"setPattern":return n[e.pattern](),{matrix:n.matrix,pattern:n.pattern,size:n.size};case"reset":return n[n.pattern](),{matrix:n.matrix,pattern:n.pattern,size:n.size};default:throw new Error("uh-oh")}},this.resize=function(t){n.size=t,n[n.pattern](),console.debug("resizing")},this.bisected=function(){n.pattern="bisected",n.matrix=c(n.newEmpty(),(function(t,e){return e===Math.floor(n.size/2)}))},this.hourglass=function(){n.pattern="hourglass",n.matrix=c(n.newEmpty(),(function(t,e,r){if(r>=e&&r<n.size-e)return!1;if(2*e>n.size){var a=Math.floor(n.size-e)-1;if(r>=a&&r<n.size-a)return!1}return!0}))},this.primes=function(){var t=0;n.pattern="primes",n.matrix=c(n.newEmpty(),(function(){return!!m(t+=1)}))},this.faircoin=function(){n.pattern="faircoin",n.matrix=c(n.newEmpty(),(function(){return Math.random()>.5}))},this.newEmpty=function(){return Array(n.size).fill([]).map((function(){return Array(n.size).fill(!1)}))},this.size=e,this.pattern=r,this[this.pattern]()}(23,"bisected"),v=new function t(e){Object(u.a)(this,t);var r=e.toString(),n=new Blob(["("+r+")()"]);return new Worker(URL.createObjectURL(n))}((function(){var t=this;this.addEventListener("message",(function(e){var r,n=!1,a=e.data,i=(r=a.matrix).map((function(t,e){return t.map((function(t,n){var a=function(t,e,r){for(var n=0,a=-1;a<2;a++)for(var i=-1;i<2;i++){var s;0===a&&0===i||(null===(s=t[e+a])||void 0===s?void 0:s[r+i])&&(n+=1)}return n}(r,e,n);return!(t&&a<2)&&(!(!t||2!==a&&3!==a)||!(t&&a>3)&&!t&&3===a)}))}));(function(t,e){for(var r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++)if(t[r][n]!==e[r][n])return!1;return!0})(a.matrix,i)||(n=i),t.postMessage({matrix:n})}),!1)})),h=function(){var t=Object(n.useReducer)(l.reducer,{matrix:l.matrix,pattern:l.pattern,size:l.size}),e=Object(o.a)(t,2),r=e[0],i=e[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),m=u[0],p=u[1];Object(n.useEffect)((function(){if(m){var t=setInterval((function(){v.addEventListener("message",(function(t){var e=t.data.matrix;e?i({type:"update",matrix:e}):p(!1)})),v.postMessage({matrix:r.matrix})}),350);return function(){clearInterval(t)}}}));return a.a.createElement("div",{className:f.a.container},a.a.createElement("div",{className:f.a.controls},a.a.createElement("button",{onClick:function(){p(!m)}},m?"Stop":"Start"),a.a.createElement("button",{onClick:function(){return i({type:"reset"}),void p(!1)}},"Reset"),a.a.createElement("select",{value:r.pattern,onChange:function(t){var e;e=t.target.value,i({type:"setPattern",pattern:e})}},a.a.createElement("option",{value:"bisected"},"Bisected"),a.a.createElement("option",{value:"hourglass"},"Hourglass"),a.a.createElement("option",{value:"primes"},"Primes"),a.a.createElement("option",{value:"faircoin"},"Fair Coin")),a.a.createElement("input",{type:"range",name:"matrix_size",min:"3",max:"75",step:"1",value:r.size,onChange:function(t){var e;e=t.target.value,i({type:"resize",size:Number(e)})}})),a.a.createElement("div",{className:f.a.grid,style:{gridTemplateColumns:"repeat(".concat(r.size,", 1fr)")}},c(r.matrix,(function(t,e,n){return a.a.createElement("div",{key:"".concat(e,"-").concat(n),className:t?f.a.activeItem:f.a.inactiveItem,style:{height:"".concat(75/r.size,"vh")},onClick:function(){var t,a;t=e,a=n,r.matrix[t][a]=!r.matrix[t][a],i({type:"update",matrix:r.matrix})}})}))))};s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h,null)),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.1d8ba9b1.chunk.js.map